<title>YTSpider: {{url_info["title"]}}</title>

{% extends 'base.html' %}

{% block body %}
    <!-- <div style="background-color: #282923;">
        <div class="container" style="text-align: center;">
            <div class="row align-item-start">
                <div class="col-md-auto" style="padding-top: 12px;">
                    <p class="text"><a href="{{ url_info['url'] }}" class="link_title" style="font-size: 1.4em; margin-top: 5%;">{{ url_info["title"] }}   </a><span><a href="/play/{{ url_id }}" class="text" style="color: whitesmoke; font-size: 1.4em;">üì∫ Watch Video</a></span></p><br>
                </div>
                <div style="padding: 5%;">
                    <audio width="480" id="player" playsinline controls data-poster="{{ url_info['thumbnails'][2]['url'] }}">
                        <source src="{{ url_audio_stream[0] }}" type="audio/webm" size="128">
                        Your browser does not support the video tag.
                    </audio>
                </div>
                <div class="col-md-auto" style="padding-left: 12px;">
                    {% set channel_url = url_info['channel_url'].split('https://www.youtube.com/channel/')[1] %}
                    <p class="lead text" style="color: whitesmoke; font-size: 1.3rem;">üßæ The above is the exclusive property of <span><a href="/channel/{{ channel_url }}" class="link" style="color: #ff1313; font-size: 1.3em"> <u>{{ url_info["uploader"] }}</u></a></span></p>
                    <p class="text" style="color: whitesmoke; font-size: 1.2rem;">üëÄ Views: <span class="text" style="color: #ffce02; font-size: 1.2em;">{{ url_info["view_count"] }}</span></p>
                    <p class="text" style="color: whitesmoke; font-size: 1.3rem;">üëç Likes: <span class="text" style="color: #5fff11; font-size: 1.2em;">{{ url_info["like_count"] }}</span></p>
                    <p class="text" style="color: #ecff00; font-size: 1em;">‚ö† This is not my Video BTW! :) Please don't download it and get me in trobule. If you like really really want it, there are other ways *wink* *wink*.</p>
                </div>
            </div>
        </div>
        <div style="padding: 12px;">
            <p class="text" style="color: greenyellow;">Description: <span style="color: whitesmoke; font-size: 1em;">{{ url_description }}</span></p>
        </div> 
        <div style="text-align: center; display:list-item; padding-top: 28px;">
            <p class="text" style="color: whitesmoke; font-size: 1.2rem;">‚ùå Ran into Problems? Truely sorry. Please report the issue and enjoy your video on any of the links given below<span><a href="https://github.com/newtoallofthis123/ytSpider/issues" class="link" style="color: #ff1313; font-size: 1.2em"> <u>Issues</u></a></span></p>
            {% set youtube_link = 'https://www.youtube.com/watch?v=' + url_id %}
            {% set youtube_embed_link = 'https://www.youtube-nocookie.com/embed/' + url_id %}
            {% set piped_link = 'https://piped.kavin.rocks/watch?v=' + url_id %}
            <button class="btn btn-secondary"><a href="{{ youtube_link }}" target="_blank" class="btn_link1">Watch on Youtube</a></button>
            <button class="btn btn-secondary"><a href="{{ youtube_embed_link }}" target="_blank" class="btn_link1">Watch Youtube Embeded</a></button>
            <button class="btn btn-outline-success"><a href="{{ piped_link }}" target="_blank" class="btn_link1">Watch on Piped</a></button>
        </div>
        <div style="text-align: center; display:list-item; padding-top: 28px;">
            <p class="text" style="color: whitesmoke; font-size: 1.2rem;">üîΩ Okay I give you the download buttons. Please don't misuse and abuse :)<span><a href="/license" class="link" style="color: #ff1313; font-size: 1.2em"> <u>Policy</u></a></span></p>
            <button class="btn btn-outline-warning"><a href="{{ url_stream }}" target="_blank" class="btn_link1">Download Video</a></button>
            <button class="btn btn-outline-success"><a href="{{ url_audio_stream }}" target="_blank" class="btn_link1">Download Audio</a></button>
        </div>
    <hr class="my-2 text">
    <p class="lead text" style="text-align: center; padding-top: 12px; padding-bottom: 12px;">Made with ‚ù§Ô∏è and a lot of <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="coffee" class="svg-inline--fa fa-coffee fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" width=24px viewBox="0 0 640 512"><path fill="currentColor" d="M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"></path></svg> by <a href="https://newtoallofthis123.github.io/About" target="_blank">NoobScience</a> ‚ö°</p>
    </div>
    <script>
        const player = new Plyr('#player',{
            title: "{{ url_info['title'] }}",
        });
    </script> -->
    <div style="text-align: center;">
        <h2 class="title" style="color: #212121; font-size: 24px; padding: 1%;"><span style="color: red;"><i class="bi bi-youtube"></i></span> <span style="color: rgb(12, 131, 243); text-decoration: underline; text-decoration-color: rgb(12, 131, 243);">Now Playing: </span> {{ url_info["title"] }}</h2>
        <div id="player_div" style="margin-right: 10%; margin-left: 10%;">
            <audio width="480" id="player" playsinline controls data-poster="{{ url_info['thumbnails'][-1]['url'] }}">
                <source src="{{ url_audio_stream }}" type="audio/webm" size="128">
                Your browser does not support the video tag.
            </audio>
        </div>
        <div style="padding: 12px;">
            <span id="wrong">Please Click Here If something goes wrong </span><button id="try" class="btn btn-secondary">‚ùå Error</button>
        </div>
        <div id="try_player" style="padding-bottom: 0.8rem;">
            {% set youtube_embed_link = 'https://www.youtube-nocookie.com/embed/' + url_id %}
            <iframe
                src="{{ youtube_embed_link }}"
                allowfullscreen
                allowtransparency
                allow="autoplay"
                width="900"
                height="480"
            ></iframe>
        </div>
    </div>
    <div style="text-align: center; background-color: #212121; margin-left: 10%; margin-right: 10%; border-radius: 12px;">
        <a href="/channel/{{ channel_url }}" class="des_link" style="text-align: center; font-size: 38px; text-decoration: underline; text-decoration-thickness: 5px;">{{ url_info["uploader"] }}</a>
        <p style="color: rgb(97, 247, 11); font-size: 24px; padding-top: 0.8rem;">üëÄ Views: <span style="color: rgb(238, 232, 232);">{{ url_info["view_count"] }}</span></p> 
        <p style="color: rgb(14, 241, 192); font-size: 24px; padding-bottom: 1.2rem;">üëçüèª Likes: <span style="color: rgb(238, 232, 232);">{{ url_info["like_count"] }}</span></p> 
    </div>
    <div class="accordion accordion-flush" id="accordionFlushExample" style="margin-left: 10%; margin-right: 10%;">
        <div class="accordion-item" style="background: linear-gradient(to right, rgb(243, 25, 25), rgb(9, 25, 248));">
            <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                üîΩ View Description
            </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <div id="desc" style="background-color: #212121; padding: 2%;">
                    {% for text in url_description %}
                        <p class="lead" style="color: rgb(236, 231, 231); font-size: 18px;">{{ text }}</p>
                    {% endfor %}
                </div>
            </div>
            </div>
        </div>
    </div>
    <div style="background-color: #212121; padding: 1.4rem; margin-top: 0.8rem; margin-right: 10%; margin-left: 10%; border-radius: 12px; text-align: center;">
        <h2 class="lead" style="color: rgb(252, 22, 22);"><i class="bi bi-person-square"></i> The Above Video is the exclusive property of Google LLC and the channel owner. Please don't Misuse the Video</h2>
    </div>
    <div style="background-color: #212121; padding: 1.2rem; margin-top: 0.8rem; margin-right: 10%; margin-left: 10%; border-radius: 12px; text-align: center;">
        {% set piped_link = 'https://piped.kavin.rocks/watch?v=' + url_id %}
        <button class="btn btn-outline-primary"><a href="{{ piped_link }}" class="btn_link">Watch on Piped</a></button>
        <button class="btn btn-outline-info" style="margin-left: 0.8rem;"><a href="/play/{{ url_id }}" class="btn_link">Watch the Video Instead</a></button>
        <span>
            <button class="download_btn"><a href="{{ url_stream }}" download="{{ url_info['title'] }}" class="btn_link" style="color: #212121;"> <i class="bi bi-download"></i> Download Video</a></button>
        </span>
        <span>
            <button class="download_btn"><a href="{{ url_audio_stream }}" download="{{ url_info['title'] }}" class="btn_link" style="color: #212121;"><i class="bi bi-music-player"></i> Download Audio</a></button>
        </span>
    </div>
    <script>
        $('#try_player').hide()
        const player = new Plyr('#player',{
            title: "{{ url_info['title'] }}",
        });
        $('#try').click(function(){
            $('#try_player').show()
            $("#player_div").hide()
            $("#wrong").replaceWith("Hope you enjoy it Now...Please Refresh to Get Back to the Player")
            $("#try").hide()
        });
        Toastify({
            text: "By Using YTSpider, You are agreeing to it's Viewer Policy. Click to Know More",
            duration: 30000,
            destination: "/license",
            newWindow: true,
            close: true,
            gravity: "bottom", // `top` or `bottom`
            position: "right", // `left`, `center` or `right`
            stopOnFocus: true, // Prevents dismissing of toast on hover
            avatar: "{{ url_for('static',filename='assets/icons/favicon.ico') }}",
            style: {
                background: "linear-gradient(to right, #0e2a47, #0e2a36",
                fontFamily: "Helvetica, sans-serif",
                borderRadius: "12px",
            },
            onClick: function(){} // Callback after click
        }).showToast();
    </script>
{% endblock %}